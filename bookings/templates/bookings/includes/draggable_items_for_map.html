<script type="text/javascript">
  $(document).ready(function() {
    $(".draggable-item").draggable({
      containment: "parent",
      stop: function(event, ui) {
        var tableId = $(this).data("table-id");
        var newX = ui.position.left;
        var newY = ui.position.top;
        saveTableLocation(tableId, newX, newY);
      }
    });
  });

  function saveTableLocation(tableId, x, y) {
    var url = 'https://8000-oisinwrites-byte-xx3cqnmui5k.ws-eu100.gitpod.io/bookings/bookings/save_table_location/';
    var data = {
      table_id: tableId,
      location_x: x,
      location_y: y,
      csrfmiddlewaretoken: "{{ csrf_token }}",  // Include the CSRF token

    };

    $.post(url, data, function(response) {
      if (response.success) {
        console.log("Table location saved successfully.");
      } else {
        console.log("Failed to save table location.");
      }
    });
  }
</script>